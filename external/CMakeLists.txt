# Setting options for the Python build
set(PYTHON_VERSION 3.6.7 CACHE STRING "" FORCE)
set(PYTHON_APPLY_PATCHES ON CACHE BOOL "" FORCE)
set(DOWNLOAD_SOURCES ON CACHE BOOL "" FORCE)
set(BUILD_LIBPYTHON_SHARED OFF CACHE BOOL "" FORCE)
set(BUILD_EXTENSIONS_AS_BUILTIN ON CACHE BOOL "" FORCE)

# Disabling all extensions.
# Comment out the C extensions you want to use!
# The commented ones will be built as builtin modules.
# TODO: Test which modules are essential and cannot be omitted.

set(ENABLE_ARRAY OFF CACHE BOOL "" FORCE)
set(ENABLE_AUDIOOP OFF CACHE BOOL "" FORCE)
set(ENABLE_BINASCII OFF CACHE BOOL "" FORCE)
set(ENABLE_BISECT OFF CACHE BOOL "" FORCE)
set(ENABLE_BSDDB OFF CACHE BOOL "" FORCE)
set(ENABLE_BZ2 OFF CACHE BOOL "" FORCE)
set(ENABLE_CODECS_CN OFF CACHE BOOL "" FORCE)
set(ENABLE_CODECS_HK OFF CACHE BOOL "" FORCE)
set(ENABLE_CODECS_ISO2022 OFF CACHE BOOL "" FORCE)
set(ENABLE_CODECS_JP OFF CACHE BOOL "" FORCE)
set(ENABLE_CODECS_KR OFF CACHE BOOL "" FORCE)
set(ENABLE_CODECS_TW OFF CACHE BOOL "" FORCE)
# set(ENABLE_CPICKLE OFF CACHE BOOL "" FORCE)
set(ENABLE_CRYPT OFF CACHE BOOL "" FORCE)
# set(ENABLE_CSTRINGIO OFF CACHE BOOL "" FORCE)
set(ENABLE_CSV OFF CACHE BOOL "" FORCE)
set(ENABLE_CURSES OFF CACHE BOOL "" FORCE)
set(ENABLE_CURSES_PANEL OFF CACHE BOOL "" FORCE)
# set(ENABLE_DATETIME OFF CACHE BOOL "" FORCE)
set(ENABLE_DBM OFF CACHE BOOL "" FORCE)
set(ENABLE_ELEMENTTREE OFF CACHE BOOL "" FORCE)
set(ENABLE_FCNTL OFF CACHE BOOL "" FORCE)
set(ENABLE_FUTURE_BUILTINS OFF CACHE BOOL "" FORCE)
set(ENABLE_GDBM OFF CACHE BOOL "" FORCE)
set(ENABLE_GRP OFF CACHE BOOL "" FORCE)
set(ENABLE_HASHLIB OFF CACHE BOOL "" FORCE)
# set(ENABLE_HEAPQ OFF CACHE BOOL "" FORCE)
set(ENABLE_HOTSHOT OFF CACHE BOOL "" FORCE)
# set(ENABLE_IO OFF CACHE BOOL "" FORCE)
# set(ENABLE_ITERTOOLS OFF CACHE BOOL "" FORCE)
set(ENABLE_JSON OFF CACHE BOOL "" FORCE)
set(ENABLE_LINUXAUDIODEV OFF CACHE BOOL "" FORCE)
# set(ENABLE_LOCALE OFF CACHE BOOL "" FORCE)
# set(ENABLE_LSPROF OFF CACHE BOOL "" FORCE)
set(ENABLE_MMAP OFF CACHE BOOL "" FORCE)
set(ENABLE_MULTIBYTECODEC OFF CACHE BOOL "" FORCE)
set(ENABLE_MULTIPROCESSING OFF CACHE BOOL "" FORCE)
set(ENABLE_NIS OFF CACHE BOOL "" FORCE)
# set(ENABLE_OPERATOR OFF CACHE BOOL "" FORCE)
set(ENABLE_OSSAUDIODEV OFF CACHE BOOL "" FORCE)
# set(ENABLE_PARSER OFF CACHE BOOL "" FORCE)
# set(ENABLE_PWD OFF CACHE BOOL "" FORCE)
set(ENABLE_PYEXPAT OFF CACHE BOOL "" FORCE)
# set(ENABLE_RANDOM OFF CACHE BOOL "" FORCE)
set(ENABLE_READLINE OFF CACHE BOOL "" FORCE)
# set(ENABLE_RESOURCE OFF CACHE BOOL "" FORCE)
# set(ENABLE_SELECT OFF CACHE BOOL "" FORCE)
set(ENABLE_SOCKET OFF CACHE BOOL "" FORCE)
# set(ENABLE_SPWD OFF CACHE BOOL "" FORCE)
set(ENABLE_SQLITE3 OFF CACHE BOOL "" FORCE)
set(ENABLE_SSL OFF CACHE BOOL "" FORCE)
# set(ENABLE_STROP OFF CACHE BOOL "" FORCE)
# set(ENABLE_STRUCT OFF CACHE BOOL "" FORCE)
# set(ENABLE_SYSLOG OFF CACHE BOOL "" FORCE)
set(ENABLE_TERMIOS OFF CACHE BOOL "" FORCE)
# set(ENABLE_TESTCAPI OFF CACHE BOOL "" FORCE)
set(ENABLE_TKINTER OFF CACHE BOOL "" FORCE)
set(ENABLE_ZLIB OFF CACHE BOOL "" FORCE)

# modules that can't be disabled since they're essential (on some platforms)  
# set(ENABLE_COLLECTIONS OFF CACHE BOOL "" FORCE)
# set(ENABLE_CMATH OFF CACHE BOOL "" FORCE)
# set(ENABLE_CTYPES OFF CACHE BOOL "" FORCE)
# set(ENABLE_CTYPES_TEST OFF CACHE BOOL "" FORCE)
# set(ENABLE_FUNCTOOLS OFF CACHE BOOL "" FORCE)
# set(ENABLE_MATH OFF CACHE BOOL "" FORCE)
# set(ENABLE_NT OFF CACHE BOOL "" FORCE)
# set(ENABLE_POSIX OFF CACHE BOOL "" FORCE)
# set(ENABLE_TIME OFF CACHE BOOL "" FORCE)
# set(ENABLE_UNICODEDATA OFF CACHE BOOL "" FORCE)

add_subdirectory(python-cmake-buildsystem)

